<html>
<head>
  <base target="_blank">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="https://pbs.twimg.com/profile_images/1614420813800767490/mf6sQbCT_400x400.jpg" type="image/png">
  <link rel="manifest" href="/manifest.json">
</head>

<body>
  <p>quasimatt.com wrapped 2025</p>

  <p>wow. 2025 sure was interesting. here's what's happened on quasimatt.com since 9/22/25.</p>

  <p>
    over 89 days, 210 individual people were mentioned on quasimatt.com.
    on average, people were mentioned on 4.7 days.
    112 people were mentioned only once.
    the day with the most mentions was 10/31 (halloween), with 33 people mentioned.
    the most social week mentioned 57 people.
    the least social week mentioned 10.
    an average of 6.5 people were mentioned per day,
    with the busiest days being saturday and friday and the quietest day being sunday.
    the strongest co-mentioned pair was mihir and jacob.
    the strongest co-mentioned trio was cass, maisy, and kathy.
    the most mentioned person was mihir, who appeared with 116 different people.
    the longest mention streak was john, who was mentioned 8 days in a row.
    the word "queen" appeared on quasimatt.com 54 times in 2025.
  </p>

  <p>—</p>

  <p>enter your x handle to see your wrapped:</p>

  <p>
    @<input
      id="handleInput"
      type="text"
      placeholder="username"
      list="handleSuggestions"
      autocomplete="off"
    />
    <button id="goButton">go</button>
  </p>

  <datalist id="handleSuggestions"></datalist>

  <div id="result"></div>

  <script>
    let PEOPLE = null;
    let HANDLES = [];

    fetch("/social/wrapped2025/wrapped2025_people.json")
      .then(r => r.json())
      .then(data => {
        PEOPLE = data;
        HANDLES = Object.keys(data);

        const list = document.getElementById("handleSuggestions");
        HANDLES.forEach(h => {
          const opt = document.createElement("option");
          opt.value = h;
          list.appendChild(opt);
        });

        // auto-render if URL has ?handle
        const handleFromURL = getHandleFromURL();
        if (handleFromURL && PEOPLE[handleFromURL]) {
          document.getElementById("handleInput").value = handleFromURL;
          document.getElementById("result").innerHTML = renderWrapped(handleFromURL);
        }
      });

    function getHandleFromURL() {
      // URL like ?jacobarluck
      const q = window.location.search.replace("?", "").trim();
      return q || null;
    }

    function renderWrapped(handle) {
      const data = PEOPLE[handle];
      if (!data) {
        return `<p>no wrapped available for @${handle}.</p>`;
      }

      const topConnections = data.top_connections
        .map(c => `@${c.handle}`)
        .join(", ");

      return `
        <p><strong>@${handle}</strong></p>

        <p>
          you were mentioned on <strong>${data.days_seen}</strong> days this year,
          placing you in the <strong>${data.days_seen_percentile}th percentile</strong>.
        </p>

        <p>
          you appeared with <strong>${data.connections}</strong> different people.
        </p>

        <p>
          lately, our trajectory is <strong>${data.friendship_trend.label}</strong>.
        </p>

        <p>
          when you show up, it’s usually in <strong>${data.social_style.replace("_", " ")}</strong> hangs
          (avg group size: ${data.avg_group_size}).
        </p>

        <p>
          we most often crossed paths on <strong>${data.top_weekday}</strong>s.
        </p>

        <p>
          you most often appeared alongside ${topConnections}.
        </p>
      `;
    }

    function goToWrapped(raw) {
      const clean = raw.replace(/^@/, "").toLowerCase();

      if (!PEOPLE || !PEOPLE[clean]) {
        alert("no wrapped available for @" + clean);
        return;
      }

      // update URL without reload
      window.history.pushState({}, "", `?${clean}`);
      document.getElementById("result").innerHTML = renderWrapped(clean);
    }

    document.getElementById("goButton").onclick = () => {
      const raw = document.getElementById("handleInput").value.trim();
      if (!raw) return;
      goToWrapped(raw);
    };

    document.getElementById("handleInput").addEventListener("keydown", e => {
      if (e.key === "Enter") {
        e.preventDefault();
        goToWrapped(e.target.value);
      }
    });
  </script>
</body>
</html>


